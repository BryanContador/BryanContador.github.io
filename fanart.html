<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Benjamin Counter's Fanart</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="resources/logo_white.png">
</head>
<body>
    <header>
        <div class="logo-container">
            <h1 id="header-title">BENJAMIN COUNTER</h1>
        </div>
    </header>
    <nav>
        <div class="nav-container">
        <ul id="nav-menu">
            <li><a href="index.html">HOME</a></li>
            <li><a href="fanart.html">FANART FOR OTHERS</a></li>
            <li><a href="drawings.html">WORKS / DRAWINGS</a></li>
            <li><a href="sketches.html">SKETCHES</a></li> 
            <li><a href="about.html">ABOUT</a></li>
        </ul>
        <div id="nav-indicator"></div>
        </div>
    </nav>
        <!--<button id="hamburger-btn" aria-label="Open menu">
            &#9776;
        </button> -->
    </header>
    <main class="gallery-page">
        <h2>made fanart</h2>
        <div class="gallery">
            <div class="gallery-grid">

                <!-- set de tres -->
                <div class="gallery-item">
                    <img src="fanart/thumb/PUTO_thumb.jpg" alt="Margrave" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/PUTO.jpg"
                    data-title="Margrave"
                    data-description="Character property of Alex C. (countdooku on Discord) 
                    fiverr.com/tempallus. 
                    First piece of a set of 3">
                </div>

                <div class="gallery-item">
                    <img src="fanart/thumb/piece_of_cake_thumb.jpg" alt="Andrew goat" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/piece_of_cake.jpg"
                    data-title="Aster"
                    data-description="Character property of Andrew.
                    asterbuds on Discord. 
                    Second piece of a set of 3">
                </div>

                <div class="gallery-item">
                    <img src="fanart/thumb/3rd_boyfriend_thumb.png" alt="Danny" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/3rd_boyfriend.jpg"
                    data-title="Bel"
                    data-description="Character property of Danny.
                    danfromarbys on Discord. 
                    Third piece of a set of 3">
                </div>
                <!-- set de tres -->

                <div class="gallery-item">
                    <img src="fanart/thumb/158 sin título_20241001122235_thumb.jpg" alt="Bunlith" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/158 sin título_20241001122235.jpg"
                    data-title="Bunlith"
                    data-description="Character property of Lilith Walther.
                    b0tster on Youtube. 
                    From the time around this piece was finished, I was (and still am) completly in love with this character's desing. Really beautifully made.
                    youtube.com/@b0tster">
                </div>

                <div class="gallery-item">
                    <img src="fanart/thumb/Liam_feet_love_thumb.jpg" alt="Liam's Twix FEET" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/Liam_feet_love.jpg"
                    data-title="Art Trade (FEET)"
                    data-description="Art Trade with Goulish Badger.
                    @missbadgers on TikTok
                    ko-fi.com/missbadgers">
                </div>

                <div class="gallery-item">
                    <img src="fanart/thumb/HIM_thumb.jpg" alt="Rudy3r" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/HIM.jpg"
                    data-title="El Rudy"
                    data-description="Inspired by the early 2000's aesthetic and reinforced by Lucy Bedroque's song Hot Boy.
                    Featuring Rudy3rASMR on YouTube.
                    youtube.com/@Rud3yASMR">
                </div>

                <div class="gallery-item">
                    <img src="fanart/thumb/HERB_true_sona_kitty_cat_thumb.jpg" alt="Fox's sona" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/HERB_true_sona_kitty_cat.jpg"
                    data-title="Herb"
                    data-description="Character property of FoxDied
                    instagram.com/fox._diedxd">
                </div> 

                <div class="gallery-item">
                    <img src="fanart/thumb/56 sin título_20220827024832_thumb.jpg" alt="Deadligh lesbians" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/56 sin título_20220827024832.jpg"
                    data-title="Cute couple"
                    data-description="Character property of deadlightswitch">
                </div> 

                <div class="gallery-item">
                    <img src="fanart/thumb/169 sin título_20240204111530_thumb.jpg" alt="Melody" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/169 sin título_20240204111530.jpg"
                    data-title="Yogurt Male"
                    data-description="Sona property of Melody NoSureName. 
                    Featuring Melody NoSureName on YouTube.
                    youtube.com/@MelodyNosurname">
                </div>

                <div class="gallery-item">
                    <img src="fanart/thumb/167 sin título_20240123052223_thumbnail.jpg" alt="Roofle" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/167 sin título_20240123052223.jpg"
                    data-title="Woofle"
                    data-description="Character property of DarkViperAU.
                    DarkViperAU on youtube.
                    youtube.com/@PilferpupCartoons">
                </div>

                <div class="gallery-item">
                    <img src="fanart/thumb/Meowfurshot_final_thumb.jpg" alt="Meowfurshot" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/Meowfurshot_final.jpg"
                    data-title="MeowFurShot"
                    data-description="Sona property of MeowFurShot.
                    MeowFurShot on Youtube. 
                    Inspired by the song Expression On Your Face
                    youtube.com/@Meowfurshot">
                </div>

                <div class="gallery-item">
                    <img src="fanart/thumb/39 sin título_20220620021326_thumb.jpg" alt="Frendi" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/39 sin título_20220620021326.jpg"
                    data-title="Frendi Leea"
                    data-description="Original Character property of Frendi. 
                    Alreadish on Youtube.
                    youtube.com/@Alreadyish">
                </div> 

                <div class="gallery-item">
                    <img src="fanart/thumb/133 sin título_20230606221402_thumb.jpg" alt="Frendi 2" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/133 sin título_20230606221402.jpg"
                    data-title="Frendi Leea"
                    data-description="Original Character property of Frendi. 
                    Alreadish on Youtube.
                    youtube.com/@Alreadyish">
                </div> 

                <div class="gallery-item">
                    <img src="fanart/thumb/61 sin título_20220822234420_thumb.jpg" alt="Frendi topdown" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/61 sin título_20220822234420.jpg"
                    data-title="Frendi Leea"
                    data-description="Original Character property of Frendi. 
                    Alreadish on Youtube.
                    youtube.com/@Alreadyish">
                </div> 

                <div class="gallery-item">
                    <img src="fanart/thumb/maple_thumb.jpg" alt="Maple trans" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/maple.jpg"
                    data-title="Maple"
                    data-description="Original Character property of Squarecatz (Fetch).
                    https://fetchdog.straw.page
                    artfight.net/~Squarecatz">
                </div> 

                <div class="gallery-item">
                    <img src="fanart/thumb/lamb_thumb.jpg" alt="Faulthy Heart" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/lamb.jpg"
                    data-title="Faulthy Heart"
                    data-description="Original Character property of Pilferpup Draws. 
                    Pilferpup Draws on Youtube.
                    youtube.com/@PilferpupCartoons">
                </div> 

                <div class="gallery-item">
                    <img src="fanart/thumb/176 sin título_20240704015305_thumb.jpg" alt="Lullaby" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/176 sin título_20240704015305.jpg"
                    data-title="Lullaby"
                    data-description="Original Character property of Pilferpup Draws. 
                    Pilferpup Draws on Youtube.
                    youtube.com/@PilferpupCartoons">
                </div> 

                <div class="gallery-item">
                    <img src="fanart/thumb/165 sin título_20240729013124_thumb.jpg" alt="Cotton Pon" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/165 sin título_20240729013124.jpg"
                    data-title="Cotton Pon"
                    data-description="Original Character property of Pilferpup Draws. 
                    Pilferpup Draws on Youtube.
                    youtube.com/@PilferpupCartoons">
                </div> 
                
                <div class="gallery-item">
                    <img src="fanart/thumb/47_sin_titulo_20230710011059_thumb.png" alt="Lillybee" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/47_sin_titulo_20230710011059.jpg"
                    data-title="Lillybee"
                    data-description="Original Character property of Pilferpup Draws. 
                    Pilferpup Draws on Youtube.
                    youtube.com/@PilferpupCartoons">
                </div>

                <div class="gallery-item">
                    <img src="fanart/thumb/excited_thumb.jpg" alt="Lillybee excited" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/excited.jpg"
                    data-title="excited"
                    data-description="Original Character property of Pilferpup Draws. 
                    Horrible.
                    Pilferpup Draws on Youtube.
                    youtube.com/@PilferpupCartoons">
                </div> 

                <div class="gallery-item">
                    <img src="fanart/thumb/17 sin título_20220519014126_thumb.jpg" alt="UmJammer Lammy" class="gallery-image" loading="lazy"
                    data-high-res-src="fanart/17 sin título_20220519014126.jpg"
                    data-title="UmJammer Lammy"
                    data-description="Fanart for the game UmJammer Lammy. 
                    Ranchera.">
                </div>
                <!-- Add more fan art images -->
                <!--- -->
            </div>
        </div>

    </main>
    <div class="logo-footer">
        <img src="resources/logo.png" alt="Benjamin Counter Logo" class="footer-logo">
    </div>
    <footer>
        <p id="footer-quote">"Everything in this life is impossible until someone comes and does it."</p>
    </footer>
     
    <div class="modal" id="modal">
        <span class="modal-close" id="modal-close">&times;</span>
        <span class="modal-nav prev" id="modal-prev">&#10094;</span>
        <span class="modal-nav next" id="modal-next">&#10095;</span>

        <div id="modal-image-container">
        <img id="modal-img" src="">
        <div class="modal-warning-overlay" id="modal-warning">
            <div class="modal-warning-content">
                <p>This post may contain images that some viewers find offensive or unsettling. <br>
                    Do you wish to proceed?</p>
                <button id="warning-continue-btn">View</button>
            </div>
        </div>
    </div>

        <div class="modal-info">
            <h3 id="modal-title">No title</h3>
            <p id="modal-description">No description</p>
        </div>
    </div>
 
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // ---elementos del DOM ---
        const modal = document.getElementById('modal');
        const modalImg = document.getElementById('modal-img');
        const modalTitle = document.getElementById('modal-title');
        const modalDescription = document.getElementById('modal-description');
        const imageContainer = document.getElementById('modal-image-container');
        const closeModalBtn = document.getElementById('modal-close');
        const prevBtn = document.getElementById('modal-prev');
        const nextBtn = document.getElementById('modal-next');
        const warningOverlay = document.getElementById('modal-warning');
        const continueBtn = document.getElementById('warning-continue-btn');

       // --- Logica del botón de advertencia ---
       continueBtn.addEventListener('click', () => {
       event.stopPropagation();
       if (galleryItems[currentImageIndex]) {
       galleryItems[currentImageIndex].isRevealed = true;
       } 
       modal.classList.remove('show-warning'); // Oculta el contenedor de la advertencia
       modalImg.classList.remove('blurred');   // Elimina el desenfoque de la imagen
       });

        // --- Variables Globales para la Galería ---
        const galleryItems = [];
        let currentImageIndex = 0;

        // ---colectar todas las imágenes de la galería ---
        const galleryImageElements = document.querySelectorAll('.gallery-image');
        galleryImageElements.forEach((img, index) => {
            galleryItems.push({
                highResSrc: img.dataset.highResSrc,
                title: img.dataset.title,
                description: img.dataset.description,
                description: img.dataset.description,
                isSensitive: img.dataset.sensitive === 'true', //content warning
                isRevealed: false
            });

            // --- listener a cada imagen para abrir la modal ---
            img.addEventListener('click', () => {
                openModalAtIndex(index);
            });
        });

        // --- convertir texto de URL en enlaces clicables ---
        function linkify(text) {
            const urlPattern = /(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])|(\b[a-z0-9.-]+\.(com|org|net|io)\b(\/[^ \t\n\r<]*)?)/ig;
            return text.replace(urlPattern, function(url) {
                let href = url;
                if (!href.startsWith('http')) {
                    href = 'https://' + href;
                }
                return `<a href="${href}" target="_blank" rel="noopener noreferrer">${url}</a>`;
            });
        
        }

        // --- convertir texto de URL en enlaces clicables ---
        function linkify(text) {
            const urlPattern = /(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])|(\b[a-z0-9.-]+\.(com|org|net|io)\b(\/[^ \t\n\r<]*)?)/ig;
            return text.replace(urlPattern, function(url) {
                let href = url;
                if (!href.startsWith('http')) {
                    href = 'https://' + href;
                }
                return `<a href="${href}" target="_blank" rel="noopener noreferrer">${url}</a>`;
            });
        
        }

        // --- abrir y actualizar la modal ---
function openModalAtIndex(index) {
    imageContainer.classList.remove('zoomed');
    modal.classList.remove('is-zoomed');
    modalImg.style.transformOrigin = 'center center';

    currentImageIndex = index;
    const item = galleryItems[currentImageIndex];

    const tempImg = new Image();
    tempImg.src = item.highResSrc;
    
    tempImg.onload = () => {
        modalImg.src = item.highResSrc;

        if (item.isSensitive && !item.isRevealed) {
            modalImg.classList.add('blurred');
            modal.classList.add('show-warning');
        } else {
            modalImg.classList.remove('blurred');
            modal.classList.remove('show-warning');
        }
    };

    modalTitle.textContent = item.title;
    modalDescription.innerHTML = linkify(item.description);

    modal.style.display = 'flex';
}

        // ---para cerrar la modal ---
        function closeModal() {
            modal.style.display = 'none';
        }

        // ---navegacion ---
        function showNextImage() {
            const nextIndex = (currentImageIndex + 1) % galleryItems.length;
            openModalAtIndex(nextIndex);
        }

        function showPrevImage() {
            const prevIndex = (currentImageIndex - 1 + galleryItems.length) % galleryItems.length;
            openModalAtIndex(prevIndex);
        }

        // ---vent Listeners para botones y cierre ---
        closeModalBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (event) => {
            if (event.target === modal) closeModal();
        });
        prevBtn.addEventListener('click', showPrevImage);
        nextBtn.addEventListener('click', showNextImage);

        // ---para el SWIPE ---
        let touchStartX = 0;
        modal.addEventListener('touchstart', (event) => {
            if (imageContainer.classList.contains('zoomed')) return;
            touchStartX = event.changedTouches[0].screenX;
        }, { passive: true });

        modal.addEventListener('touchend', (event) => {
            if (imageContainer.classList.contains('zoomed')) return;
            const touchEndX = event.changedTouches[0].screenX;
            const swipeThreshold = 50;
            if (touchEndX < touchStartX - swipeThreshold) showNextImage();
            if (touchEndX > touchStartX + swipeThreshold) showPrevImage();
        });
        
        // --- ZOOM ---
        imageContainer.addEventListener('click', function(event) {
            if (modal.classList.contains('show-warning')) return;
            event.stopPropagation();
            this.classList.toggle('zoomed');
            modal.classList.toggle('is-zoomed');
            if (!this.classList.contains('zoomed')) {
                modalImg.style.transformOrigin = 'center center';
            }
        });

        imageContainer.addEventListener('mousemove', function(event) {
            if (this.classList.contains('zoomed')) {
                const rect = this.getBoundingClientRect();
                const x = ((event.clientX - rect.left) / rect.width) * 100;
                const y = ((event.clientY - rect.top) / rect.height) * 100;
                modalImg.style.transformOrigin = `${x}% ${y}%`;
            }
        });

        imageContainer.addEventListener('mouseleave', function() {
            if (!this.classList.contains('zoomed')) {
                modalImg.style.transformOrigin = 'center center';
            }
        });
        
        // --- teclado ---
        document.addEventListener('keydown', (event) => {
            if (modal.style.display === 'flex' && !imageContainer.classList.contains('zoomed')) {
                if (event.key === 'ArrowRight') showNextImage();
                if (event.key === 'ArrowLeft') showPrevImage();
                if (event.key === 'Escape') closeModal();
            }
        });
    });
    </script>
    <script src="script.js"></script>
    <button id="theme-switcher" aria-label="Cambiar tema"></button>
</body>
</html>
