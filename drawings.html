<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Benjamin Counter's Drawings</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="resources/logo_white.png">
</head>
<body>
    <header>
        <div class="logo-container">
            <h1 id="header-title">BENJAMIN COUNTER</h1>
        </div>
    </header>
    <nav>
        <div class="nav-container">
        <ul id="nav-menu">
            <li><a href="index.html">HOME</a></li>
            <li><a href="fanart.html">FANART FOR OTHERS</a></li>
            <li><a href="drawings.html">WORKS / DRAWINGS</a></li>
            <li><a href="sketches.html">SKETCHES</a></li> 
            <li><a href="about.html">ABOUT</a></li>
        </ul>
        <div id="nav-indicator"></div>
        </div>
    </nav>
        <!--<button id="hamburger-btn" aria-label="Open menu">
            &#9776;
        </button> -->
    </header>
    <main class="gallery-page">
        <h2>works/drawings</h2>
        <div class="gallery">
            <div class="gallery-grid">

                <!--Sunshine-->
                <div class="gallery-item">
                    <img src="drawings/thumb/45 sin título_20220813183603_thumb.jpg" alt="Sunshine Ranchera" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/45 sin título_20220813183603.jpg"
                    data-title="No Title"
                    data-description="Original Character
                    No description.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/74 sin título_20221015231324_thumb.jpg" alt="Halloween" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/74 sin título_20221015231324.jpg"
                    data-title="Halloween"
                    data-description="Original Character 
                    Sunshine celebrating Halloween 2022. Originally created for a contest, but disqualified for not following the theme.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/124_sin_titulo_Restaurado_20230902020738_thumb.png" alt="Pose" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/124_sin_titulo_Restaurado_20230902020738.jpg"
                    data-title="Pose"
                    data-description="Original Character 
                    The Sunshine in my life.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/171 sin título_20240403052546_thumb.jpg" alt="Monja" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/171 sin título_20240403052546.jpg"
                    data-title="Monja"
                    data-description="Original Character 
                    My part of a collaborative drawing.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/sunsun_pain_2_scaled_5x_pngcrushed_thumb.png" alt="sunshie pixelart" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/sunsun_pain_2_scaled_5x_pngcrushed.png"
                    data-title="No title"
                    data-description="MICROSOFT PAINT 🗣️🗣️🔥">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/736 sin título_20210619131447_thumb.jpg" alt="Office sunshie" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/736 sin título_20210619131447.jpg"
                    data-title="Trabajo social"
                    data-description="Original Character 
                    No description.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/744 sin título_20210725035000_thumb.jpg" alt="Sunshine afuera de oficina" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/744 sin título_20210725035000.jpg"
                    data-title="No Title"
                    data-description="Original Character
                    Back in 2021... crazy.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/740 sin título_20210708040753_thumb.jpg" alt="Criminal Sunshine" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/740 sin título_20210708040753.jpg"
                    data-title="Alternative Universe Sunshine"
                    data-description="Original Character 
                    No description.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/328 sin título_thumb.jpg" alt="Sunshine 2020" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/328 sin título.jpg"
                    data-title="early 2020"
                    data-description="Original Character 
                    All these years, and she hasn't changed a bit.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/288 sin título(2019)_thumb.jpg" alt="Sunshine xmas" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/288 sin título(2019).jpg"
                    data-title="XMAS 2019"
                    data-description="Original Character
                    Woah... where did the years go?">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/259 sin título_thumb.jpg" alt="First sunshine" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/259 sin título.jpg"
                    data-title="Sunshine #1"
                    data-description="Original Character 
                    First formal drawing of Sunshine...
                    yeah, she's still the same.">
                </div>


                <!--Jamol / Janet -->
                <div class="gallery-item">
                    <img src="drawings/thumb/1739986621233_thumb.png" alt="Buyer's remorse" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/1739986621233.png"
                    data-title="Buyer's remorse"
                    data-description="Original Character 
                    No description">
                </div> <!--idea, añadir una version alternativa dentro de la misma imagen if aplica-->

                <div class="gallery-item">
                    <img src="drawings/thumb/sadness_thumb.png" alt="Sad Face" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/sadness.png"
                    data-title="No Title"
                    data-description="Original Character 
                    Melancholy. Made in Microsoft Paint.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/1739986554241_thumb.png" alt="Appreciation" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/1739986554241.png"
                    data-title="Appreciation"
                    data-description="Original Character 
                    No description">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/30 sin título3_20230104112037_thumb.jpg" alt="Saint" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/30 sin título3_20230104112037.png"
                    data-title="Still standing"
                    data-description="Original Character 
                    Piece inspired by the iconography of martyrs and saints. 
                    A literal hole where her heart once was."
                    data-sensitive="true">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/1739986680341_thumb.jpg" alt="Fingerpoint" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/1739986680341.png"
                    data-title="No Title"
                    data-description="Original Character
                    No description.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/1739986719411_thumb.jpg" alt="Rain" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/1739986719411.jpg"
                    data-title="Guerrero"
                    data-description="Original Character
                    My part of a collaborative drawing">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/24 sin título_thumb.jpg" alt="Water" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/24 sin título.jpg"
                    data-title="Above the water"
                    data-description="Original Character
                    Blood after a fight."
                    data-sensitive="true">
                </div> 

                <div class="gallery-item">
                    <img src="drawings/thumb/2bad_scaled_5x_pngcrushed_thumb.png" alt="Pixel Jamol" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/2bad_scaled_5x_pngcrushed.png"
                    data-title="No title"
                    data-description="Original Character 
                    No description.">
                </div>

                <!--No name/single char-->
                <div class="gallery-item">
                    <img src="drawings/thumb/634 sin título_thumb.jpg" alt="Clown bunny" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/634 sin título.jpg"
                    data-title="Clown bunny"
                    data-description="Original Character 
                    No description.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/766 sin título_20210929084302_thumb.jpg" alt="alternative_sunshine" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/766 sin título_20210929084302.jpg"
                    data-title="No title"
                    data-description="Original Character
                    Another bunny, why not.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/Paint_punk_end_thumb.png" alt="Punk bun" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/Paint_punk_end.png"
                    data-title="PUNK BUN"
                    data-description="Original Character 
                    Microsoft Paint.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/Sprite-00060_thumb.png" alt="Pixel girl" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/Sprite-00060.png"
                    data-title="Pixel art"
                    data-description="Original Character 
                    Made in Aseprite. Really proud of the color choices">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/Imagen-2_thumb.jpg" alt="Windows XP en papel" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/Imagen-2.jpg"
                    data-title="Windows XP"
                    data-description="Original Characters 
                    Originally made for Art Class.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/1685216510247_thumb.jpg" alt="Demon girl" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/1685216510247.jpg"
                    data-title="Demon Girl"
                    data-description="Original Character 
                    No description.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/152 sin título_20241231203824_thumb.jpg" alt="Hana Fork" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/152 sin título_20241231203824.jpg"
                    data-title="Hana Fork"
                    data-description="Original Character 
                    English cocker spaniel.">
                </div>

                <div class="gallery-item">
                    <img src="drawings/thumb/248 sin título_thumb.jpg" alt="Bear Girl" class="gallery-image" loading="lazy"
                    data-high-res-src="drawings/248 sin título.jpg"
                    data-title="Bear girl"
                    data-description="Original Character 
                    One of my first drawings. Damn.">
                </div>

                <!-- Add more drawing images -->
                 
            </div>
        </div>
    </main>
    <div class="logo-footer">
        <img src="resources/logo.png" alt="Benjamin Counter Logo" class="footer-logo">
    </div>
    <footer>
        <p id="footer-quote">"Everything in this life is impossible until someone comes and does it."</p>
    </footer>

    <div class="modal" id="modal">
        <span class="modal-close" id="modal-close">&times;</span>
        <span class="modal-nav prev" id="modal-prev">&#10094;</span>
        <span class="modal-nav next" id="modal-next">&#10095;</span>
        
    <div id="modal-image-container">
        <img id="modal-img" src="">
        <div class="modal-warning-overlay" id="modal-warning">
            <div class="modal-warning-content">
                <p>This post may contain images that some viewers find offensive or unsettling.
                    Do you wish to proceed?</p>
                <button id="warning-continue-btn">View</button>
            </div>
        </div>
    </div>

        <div class="modal-info">
            <h3 id="modal-title">No title</h3>
            <p id="modal-description">No description</p>
        </div>
    </div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        let hasConfirmedSensitiveContent = false; //content warning
        // --- Referencias a los elementos del DOM ---
        const modal = document.getElementById('modal');
        const modalImg = document.getElementById('modal-img');
        const modalTitle = document.getElementById('modal-title');
        const modalDescription = document.getElementById('modal-description');
        const imageContainer = document.getElementById('modal-image-container');
        const closeModalBtn = document.getElementById('modal-close');
        const prevBtn = document.getElementById('modal-prev');
        const nextBtn = document.getElementById('modal-next');
        const warningOverlay = document.getElementById('modal-warning');
        const continueBtn = document.getElementById('warning-continue-btn');

       // --- Logica del botón de advertencia ---
       continueBtn.addEventListener('click', () => {
       event.stopPropagation();
       hasConfirmedSensitiveContent = true; 
       modal.classList.remove('show-warning'); // Oculta el contenedor de la advertencia
       modalImg.classList.remove('blurred');   // Elimina el desenfoque de la imagen
       });

        // ---var globales para la galeria ---
        const galleryItems = [];
        let currentImageIndex = 0;

        // ---colectar todas las imágenes de la galeria ---
        const galleryImageElements = document.querySelectorAll('.gallery-image');
        galleryImageElements.forEach((img, index) => {
            galleryItems.push({
                highResSrc: img.dataset.highResSrc,
                title: img.dataset.title,
                description: img.dataset.description,
                isSensitive: img.dataset.sensitive === 'true' //content warning
            });

            // --- listener a cada imagen para abrir la modal ---
            img.addEventListener('click', () => {
                openModalAtIndex(index);
            });
        });
        // --- Función para convertir texto de URL en enlaces clicables ---
        function linkify(text) {
            const urlPattern = /(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])|(\b[a-z0-9.-]+\.(com|org|net|io|co)\b(\/[^ \t\n\r<]*)?)/ig;
            return text.replace(urlPattern, function(url) {
                let href = url;
                if (!href.startsWith('http')) {
                    href = 'https://' + href;
                }
                return `<a href="${href}" target="_blank" rel="noopener noreferrer" class="underline-link">${url}</a>`;
            });
        }

        // ---para abrir y actualizar la modal ---
function openModalAtIndex(index) {
    imageContainer.classList.remove('zoomed');
    modal.classList.remove('is-zoomed');
    modalImg.style.transformOrigin = 'center center';

    currentImageIndex = index;
    const item = galleryItems[currentImageIndex];

    const tempImg = new Image();
    tempImg.src = item.highResSrc;
    
    tempImg.onload = () => {
        modalImg.src = item.highResSrc;

        if (item.isSensitive && !hasConfirmedSensitiveContent) {
            modalImg.classList.add('blurred');
            modal.classList.add('show-warning');
        } else {
            modalImg.classList.remove('blurred');
            modal.classList.remove('show-warning');
        }
    };

    modalTitle.textContent = item.title;
    modalDescription.innerHTML = linkify(item.description);

    modal.style.display = 'flex';
}

        // ---para cerrar la modal ---
        function closeModal() {
            modal.style.display = 'none';
        }

        // --- nav ---
        function showNextImage() {
            const nextIndex = (currentImageIndex + 1) % galleryItems.length;
            openModalAtIndex(nextIndex);
        }

        function showPrevImage() {
            const prevIndex = (currentImageIndex - 1 + galleryItems.length) % galleryItems.length;
            openModalAtIndex(prevIndex);
        }

        // ---Event Listeners botones y cierre ---
        closeModalBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (event) => {
            if (event.target === modal) closeModal();
        });
        
        prevBtn.addEventListener('click', showPrevImage);
        nextBtn.addEventListener('click', showNextImage);

        // ---SWIPE ---
        let touchStartX = 0;
        modal.addEventListener('touchstart', (event) => {
            if (imageContainer.classList.contains('zoomed')) return;
            touchStartX = event.changedTouches[0].screenX;
        }, { passive: true });

        modal.addEventListener('touchend', (event) => {
            if (imageContainer.classList.contains('zoomed')) return;
            const touchEndX = event.changedTouches[0].screenX;
            const swipeThreshold = 50;
            if (touchEndX < touchStartX - swipeThreshold) showNextImage();
            if (touchEndX > touchStartX + swipeThreshold) showPrevImage();
        });
        
        // ---ZOOM---
        imageContainer.addEventListener('click', function(event) {
        if (modal.classList.contains('show-warning')) return;
            event.stopPropagation();
            this.classList.toggle('zoomed');
            modal.classList.toggle('is-zoomed');
            if (!this.classList.contains('zoomed')) {
                modalImg.style.transformOrigin = 'center center';
            }
        });

        imageContainer.addEventListener('mousemove', function(event) {
            if (this.classList.contains('zoomed')) {
                const rect = this.getBoundingClientRect();
                const x = ((event.clientX - rect.left) / rect.width) * 100;
                const y = ((event.clientY - rect.top) / rect.height) * 100;
                modalImg.style.transformOrigin = `${x}% ${y}%`;
            }
        });

        imageContainer.addEventListener('mouseleave', function() {
            if (!this.classList.contains('zoomed')) {
                modalImg.style.transformOrigin = 'center center';
            }
        });
        
        // ---nav con teclado ---
        document.addEventListener('keydown', (event) => {
            if (modal.style.display === 'flex' && !imageContainer.classList.contains('zoomed')) {
                if (event.key === 'ArrowRight') showNextImage();
                if (event.key === 'ArrowLeft') showPrevImage();
                if (event.key === 'Escape') closeModal();
            }
        });
    });
    </script>
    <script src="script.js"></script>
    <button id="theme-switcher" aria-label="Cambiar tema"></button>
</body>
</html>
